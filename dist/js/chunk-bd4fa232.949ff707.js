(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd4fa232"],{"1ca7":function(t,a,s){},"88b7":function(t,a,s){"use strict";var i=s("8f4f"),c=s.n(i);c.a},"8f4f":function(t,a,s){},"99af":function(t,a,s){"use strict";var i=s("23e7"),c=s("d039"),e=s("e8b5"),o=s("861d"),n=s("7b0b"),r=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),p=s("b622"),v=s("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",C=v>=51||!c((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),m=d("concat"),b=function(t){if(!o(t))return!1;var a=t[f];return void 0!==a?!!a:e(t)},y=!C||!m;i({target:"Array",proto:!0,forced:y},{concat:function(t){var a,s,i,c,e,o=n(this),d=u(o,0),p=0;for(a=-1,i=arguments.length;a<i;a++)if(e=-1===a?o:arguments[a],b(e)){if(c=r(e.length),p+c>h)throw TypeError(g);for(s=0;s<c;s++,p++)s in e&&l(d,p,e[s])}else{if(p>=h)throw TypeError(g);l(d,p++,e)}return d.length=p,d}})},b3b1:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"cartframe"},[0!==t.cartInfo.data.total?s("div",{staticClass:"cartcount"},[s("div",{staticClass:"cartcounter"},[t._v(t._s(t.cartInfo.data.carts.length))])]):t._e(),s("div",{staticClass:"cartlist"},[s("div",{staticClass:"scroll-menu"},[s("table",{staticClass:"table shop-list"},[t._m(0),s("tbody",t._l(t.cartInfo.data.carts,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle text-center"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.removeItem(a.id)}}},[s("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1)]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" ")]),s("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(a.qty)+t._s(a.product.unit)+" ")]),s("td",{staticClass:"align-middle text-center"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),0),s("tfoot",[s("tr",[s("td"),s("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("Total")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cartInfo.data.total)))])]),t.cartInfo.data.total!=t.cartInfo.data.final_total?s("tr",[s("td",{staticClass:"text-right text-success"},[t._v("Coupon Applied")]),s("td",{staticClass:"text-right text-success",attrs:{colspan:"2"}},[t._v("Final Price")]),s("td",{staticClass:"text-right text-success"},[t._v(" "+t._s(t._f("currency")(Math.round(t.cartInfo.data.final_total)))+" ")])]):t._e()])])]),s("div",{staticClass:"input-group input-group-sm justify-content-center",staticStyle:{margin:"50px auto",width:"70%"}},[s("div",{staticClass:"d-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"Enter Coupon Codes"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.applyCoupon}},[t._v(" Apply ")])])]),s("a",{staticClass:"pay-btn text-decoration-none",on:{click:function(a){return a.preventDefault(),t.toPay(a)}}},[t._v(" Checkout ")])])]),s("a",{staticClass:"carttrigger",attrs:{href:"#"}},[t.isloading?s("font-awesome-icon",{staticClass:"cartloading fa-pulse",attrs:{icon:["fas","spinner"]}}):s("font-awesome-icon",{staticClass:"carticon",attrs:{icon:["fas","shopping-cart"]}})],1)])])},c=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th"),s("th",[t._v("Products")]),s("th",{attrs:{width:"60"}},[t._v("Quantity")]),s("th",{attrs:{width:"40"}},[t._v("Price")])])}],e=(s("99af"),s("1157")),o=s.n(e),n={props:["cartInfo","isloading"],data:function(){return{coupon_code:""}},methods:{refreshCart:function(){this.$emit("refreshCart")},removeItem:function(t){this.$emit("removeItem",t)},applyCoupon:function(){var t=this,a=this,s={code:a.coupon_code},i="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/coupon");this.$http.post(i,{data:s}).then((function(s){a.isLoading=!0,s.data.success?(a.refreshCart(),a.isLoading=!1,t.$bus.$emit("message:push","Coupon code successfully applied","success")):(a.isLoading=!1,t.$bus.$emit("message:push","Cant't find coupon code","danger"))}))},toPay:function(){var t=this;0===t.cartInfo.data.total?t.$bus.$emit("message:push","Cart is empty","danger"):t.$router.push("/paymentpage/paymentmake")}},mounted:function(){o()(".carttrigger").click((function(t){t.preventDefault()})),o()(".cartframe").click((function(t){t.preventDefault(),t.stopPropagation(),o()(".cartlist").addClass("show")})),o()("body").click((function(t){o()(".cartlist.show").removeClass("show")}))}},r=n,l=(s("88b7"),s("2877")),u=Object(l["a"])(r,i,c,!1,null,null,null);a["a"]=u.exports},e648:function(t,a,s){"use strict";var i=s("1ca7"),c=s.n(i);c.a},fc54:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("nav",{staticClass:"navbar navbar-expand navbar-light bg-light top-select justify-content-center"},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("div",{staticClass:"top-select-item"},[s("a",{staticClass:"nav-link ",class:{active:"all"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="all"}}},[t._v(" All ")])])]),s("li",{staticClass:"nav-item"},[s("div",{staticClass:"top-select-item"},[s("a",{staticClass:"nav-link",class:{active:"Popsicle"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="Popsicle"}}},[t._v(" Popsicle ")])])]),s("li",{staticClass:"nav-item"},[s("div",{staticClass:"top-select-item"},[s("a",{staticClass:"nav-link",class:{active:"Ice Cream"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="Ice Cream"}}},[t._v(" Ice Cream ")])])]),s("li",{staticClass:"nav-item"},[s("div",{staticClass:"top-select-item"},[s("a",{staticClass:"nav-link",class:{active:"High Class"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="High Class"}}},[t._v(" High Class ")])])])])]),s("div",{staticClass:"row"},[s("nav",{staticClass:"col-xl-3 col-sm-2 d-md-block bg-light sidebar collapse",attrs:{id:"sidebarMenu"}},[s("div",{staticClass:"sidebar-sticky pt-3"},[s("div",{staticStyle:{height:"70px"}}),s("h3",{staticStyle:{"margin-bottom":"2rem"}},[t._v("Product List")]),s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link ",class:{active:"all"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="all"}}},[t._v(" All ")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"Popsicle"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="Popsicle"}}},[t._v(" Popsicle ")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"Ice Cream"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="Ice Cream"}}},[t._v(" Ice Cream ")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"High Class"==t.visibility},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.visibility="High Class"}}},[t._v(" High Class ")])])])])]),s("div",{staticClass:"col-md-9 row"},t._l(t.filterProducts,(function(a){return s("div",{key:a.id,staticClass:"col-md-6 mb-4 col-lg-4",staticStyle:{height:"390px"}},[s("div",{staticClass:"card border-0 shadow-sm",staticStyle:{height:"100%"}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"shopping-buttons"},[s("button",{staticClass:"btn btn-sm shop-btn border-right",attrs:{disabled:t.productStatus.loading==a.id,type:"button"},on:{click:function(s){return t.getProduct(a.id)}}},[t.productStatus.loading!==a.id?s("font-awesome-icon",{attrs:{icon:["far","list-alt"]}}):s("font-awesome-icon",{staticClass:"fa-pulse",attrs:{icon:["fas","spinner"]}}),t._v(" View More ")],1),s("button",{staticClass:"btn  btn-sm shop-btn",attrs:{disabled:t.productStatus.loading==a.id,type:"button"},on:{click:function(s){return t.addCart(a.id)}}},[t.productStatus.loading!==a.id?s("font-awesome-icon",{attrs:{icon:["fas","plus"]}}):s("font-awesome-icon",{staticClass:"fa-pulse",attrs:{icon:["fas","spinner"]}}),t._v(" Add to Cart ")],1)])]),s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"card-body"},[s("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),s("h5",{staticClass:"card-title"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.description))])]),s("div",{staticClass:"card-footer d-flex"},[s("div",{staticClass:"price-tag"},[t._v(t._s(t._f("currency")(a.price))+" each")])])])])})),0)]),s("Cart",{attrs:{cartInfo:t.cartList,isloading:t.productStatus.loading},on:{refreshCart:t.getCart,removeItem:t.removeCart}})],1)},c=[],e=(s("99af"),s("4de4"),s("4160"),s("159b"),s("1157")),o=s.n(e),n=s("b3b1"),r={components:{Cart:n["a"]},data:function(){return{products:[],product:{},productStatus:{loading:""},cartList:{data:{carts:[]}},coupon_code:"",visibility:"all",isLoading:!1,quantity:0,duplicate:!1,duplicateID:""}},methods:{getProducts:function(){var t=this;t.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/products");t.$http.get(a).then((function(a){t.isLoading=!1,t.products=a.data.products}))},getProduct:function(t){var a=this;a.productStatus.loading=t;var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/product/").concat(t);a.$http.get(s).then((function(t){t.data.success&&(a.product=t.data.product,a.productStatus.loading="",a.$router.push("product/".concat(a.product.id)))}))},getCart:function(){var t=this;t.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart");t.$http.get(a).then((function(a){t.isLoading=!1,t.cartList=a.data}))},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this;if(s.productStatus.loading=t,s.cartList.data.carts.filter((function(t){s.productStatus.loading===t.product_id&&(s.duplicate=!0,s.duplicateID=t.id,s.quantity=a+t.qty)})),s.duplicate){console.log("duplicate");var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart/").concat(s.duplicateID),c="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart"),e={product_id:t,qty:s.quantity};s.$http.delete(i).then((function(t){if(console.log(t),t.data.success)return s.$http.post(c,{data:e})})).then((function(t){s.$bus.$emit("message:push","item added successfully","success"),s.getCart(),s.productStatus.loading="",s.duplicate=!1}))}else{console.log("new");var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart"),r={product_id:t,qty:a};s.$http.post(n,{data:r}).then((function(t){t.data.success?(o()("#productModal").modal("hide"),s.productStatus.loading="",s.$bus.$emit("message:push","item added successfully","success"),s.getCart()):(s.$bus.$emit("message:push","connection fail","danger"),s.productStatus.loading="")}))}},removeCart:function(t){var a=this;a.productStatus.loading=t;var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart/").concat(t);a.$http.delete(s).then((function(t){t.data.success?(console.log(t),a.$bus.$emit("message:push","item removed","danger"),a.getCart(),a.productStatus.loading=""):(a.$bus.$emit("message:push","connection fail","danger"),a.productStatus.loading="")}))},productFilter:function(t){var a=this;a.tempProducts=a.products.filter((function(a,s,i){return a.category===t}))}},created:function(){this.getProducts(),this.getCart()},computed:{filterProducts:function(){if("all"===this.visibility)return this.products;if("Popsicle"===this.visibility){var t=[];return this.products.forEach((function(a){"Popsicle"===a.category&&t.push(a)})),t}if("Ice Cream"===this.visibility){var a=[];return this.products.forEach((function(t){"Ice Cream"===t.category&&a.push(t)})),a}if("High Class"===this.visibility){var s=[];return this.products.forEach((function(t){"High Class"===t.category&&s.push(t)})),s}}}},l=r,u=(s("e648"),s("2877")),d=Object(u["a"])(l,i,c,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-bd4fa232.949ff707.js.map