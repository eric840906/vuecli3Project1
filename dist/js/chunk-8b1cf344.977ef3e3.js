(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b1cf344"],{5061:function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),o("router-link",{staticStyle:{margin:"20px 0",display:"inline-block"},attrs:{to:"/shoppage/shoppingmain"}},[o("font-awesome-icon",{attrs:{icon:["fas","chevron-left"]}}),t._v(" Back to Products")],1),o("div",{staticClass:"row flex-xs-column-reverse"},[o("div",{staticClass:"col-md-4 md-mt-20"},[o("h3",[t._v(t._s(t.product.title))]),o("h4",{staticStyle:{"text-align":"end"}},[t._v(" List Price: "+t._s(t._f("currency")(t.product.origin_price))+" ")]),o("h5",[t._v("Quantity")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.product.quantity,expression:"product.quantity"}],staticClass:"form-control",attrs:{name:""},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"quantity",a.target.multiple?o:o[0])}}},t._l(10,(function(a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+t._s(t.product.unit))])})),0),o("br"),o("h5",[t._v(" Total: "+t._s(t._f("currency")(t.product.origin_price*t.product.quantity))+" ")]),o("br"),o("h5",[t._v("Description")]),o("p",[t._v(t._s(t.product.description))]),o("button",{staticClass:"addCart-btn",attrs:{disabled:t.productStatus.loading==t.product.id},on:{click:function(a){return t.addCart(t.product.id,t.product.quantity)}}},[t._v(" Add to Cart ")])]),o("div",{staticClass:"col-md-8 .container-fluid"},[o("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:""}})])]),o("div",{staticClass:"productsCarousel"},[o("h5",[t._v("Other Products")]),t.products.length>0?o("carousel",{attrs:{responsive:{0:{items:1,dots:!1},600:{items:3}},nav:!1,autoplay:!0,loop:!1,rewind:!0}},[o("template",{slot:"prev"},[o("font-awesome-icon",{staticClass:"prev",staticStyle:{height:"100%"},attrs:{icon:["fas","chevron-left"]}})],1),t._l(t.products,(function(a){return o("div",{key:a.id},[o("div",{staticStyle:{height:"250px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),o("div",{staticClass:"cover"},[o("a",{staticClass:"btn",on:{click:function(o){return t.toProduct(a.id)}}},[t._v("view")])])])})),o("template",{slot:"next"},[o("font-awesome-icon",{staticClass:"next",staticStyle:{height:"100%"},attrs:{icon:["fas","chevron-right"]}})],1)],2):t._e()],1),o("Cart",{attrs:{cartInfo:t.cartList,isloading:t.productStatus.loading},on:{refreshCart:t.getCart,removeItem:t.removeCart}})],1)},c=[],s=(o("99af"),o("4de4"),o("1157")),i=o.n(s),n=o("b3b1"),r={components:{Cart:n["a"]},data:function(){return{produtId:"",product:{},products:{},productStatus:{loading:""},cartList:{data:{carts:[]}},coupon_code:"",slickOptions:{slidesToShow:4,slidesToScroll:4},isLoading:!1}},methods:{getProducts:function(){var t=this;t.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/products");t.$http.get(a).then((function(a){t.isLoading=!1,t.products=a.data.products}))},getProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/product/").concat(t.productId);t.$http.get(a).then((function(a){a.data.success&&(t.product=a.data.product,t.productStatus.loading="")}))},getCart:function(){var t=this;t.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart");t.$http.get(a).then((function(a){t.isLoading=!1,t.cartList=a.data}))},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=this;if(o.productStatus.loading=t,o.cartList.data.carts.filter((function(t){o.productStatus.loading===t.product_id&&(o.duplicate=!0,o.duplicateID=t.id,o.quantity=a+t.qty)})),o.duplicate){console.log("duplicate");var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart/").concat(o.duplicateID),c="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart"),s={product_id:t,qty:o.quantity};o.$http.delete(e).then((function(){return o.$http.post(c,{data:s})})).then((function(t){o.$bus.$emit("message:push","item added successfully","success"),o.getCart(),o.productStatus.loading=""}))}else{console.log("new");var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart"),r={product_id:t,qty:a};o.$http.post(n,{data:r}).then((function(t){t.data.success?(i()("#productModal").modal("hide"),o.productStatus.loading="",o.$bus.$emit("message:push","item added successfully","success"),o.getCart()):(o.$bus.$emit("message:push","connection fail","danger"),o.productStatus.loading="")}))}},removeCart:function(t){var a=this;a.productStatus.loading=t;var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/cart/").concat(t);a.$http.delete(o).then((function(t){t.data.success?(a.$bus.$emit("message:push","item removed","danger"),a.getCart(),a.productStatus.loading=""):(a.$bus.$emit("message:push","connection fail","danger"),a.productStatus.loading="")}))},toProduct:function(t){var a=this;a.productStatus.loading=t;var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/product/").concat(t);a.$http.get(o).then((function(t){t.data.success&&(a.product=t.data.product,a.productStatus.loading="",a.$router.push("".concat(a.product.id)))}))}},created:function(){this.productId=this.$route.params.productId,this.getProduct(),this.getProducts(),this.getCart()}},u=r,d=(o("cb7e"),o("2877")),l=Object(d["a"])(u,e,c,!1,null,null,null);a["default"]=l.exports},"88b7":function(t,a,o){"use strict";var e=o("8f4f"),c=o.n(e);c.a},"8f4f":function(t,a,o){},"99af":function(t,a,o){"use strict";var e=o("23e7"),c=o("d039"),s=o("e8b5"),i=o("861d"),n=o("7b0b"),r=o("50c4"),u=o("8418"),d=o("65f0"),l=o("1dde"),p=o("b622"),h=o("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=h>=51||!c((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),_=l("concat"),C=function(t){if(!i(t))return!1;var a=t[f];return void 0!==a?!!a:s(t)},y=!m||!_;e({target:"Array",proto:!0,forced:y},{concat:function(t){var a,o,e,c,s,i=n(this),l=d(i,0),p=0;for(a=-1,e=arguments.length;a<e;a++)if(s=-1===a?i:arguments[a],C(s)){if(c=r(s.length),p+c>v)throw TypeError(g);for(o=0;o<c;o++,p++)o in s&&u(l,p,s[o])}else{if(p>=v)throw TypeError(g);u(l,p++,s)}return l.length=p,l}})},b3b1:function(t,a,o){"use strict";var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"cartframe"},[0!==t.cartInfo.data.total?o("div",{staticClass:"cartcount"},[o("div",{staticClass:"cartcounter"},[t._v(t._s(t.cartInfo.data.carts.length))])]):t._e(),o("div",{staticClass:"cartlist"},[o("div",{staticClass:"scroll-menu"},[o("table",{staticClass:"table shop-list"},[t._m(0),o("tbody",t._l(t.cartInfo.data.carts,(function(a){return o("tr",{key:a.id},[o("td",{staticClass:"align-middle text-center"},[o("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(o){return t.removeItem(a.id)}}},[o("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1)]),o("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" ")]),o("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(a.qty)+t._s(a.product.unit)+" ")]),o("td",{staticClass:"align-middle text-center"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),0),o("tfoot",[o("tr",[o("td"),o("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("Total")]),o("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cartInfo.data.total)))])]),t.cartInfo.data.total!=t.cartInfo.data.final_total?o("tr",[o("td",{staticClass:"text-right text-success"},[t._v("Coupon Applied")]),o("td",{staticClass:"text-right text-success",attrs:{colspan:"2"}},[t._v("Final Price")]),o("td",{staticClass:"text-right text-success"},[t._v(" "+t._s(t._f("currency")(Math.round(t.cartInfo.data.final_total)))+" ")])]):t._e()])])]),o("div",{staticClass:"input-group input-group-sm justify-content-center",staticStyle:{margin:"50px auto",width:"70%"}},[o("div",{staticClass:"d-flex"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",staticStyle:{flex:"1"},attrs:{type:"text",placeholder:"Enter Coupon Codes"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.applyCoupon}},[t._v(" Apply ")])])]),o("a",{staticClass:"pay-btn text-decoration-none",on:{click:function(a){return a.preventDefault(),t.toPay(a)}}},[t._v(" Checkout ")])])]),o("a",{staticClass:"carttrigger",attrs:{href:"#"}},[t.isloading?o("font-awesome-icon",{staticClass:"cartloading fa-pulse",attrs:{icon:["fas","spinner"]}}):o("font-awesome-icon",{staticClass:"carticon",attrs:{icon:["fas","shopping-cart"]}})],1)])])},c=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",[o("th"),o("th",[t._v("Products")]),o("th",{attrs:{width:"60"}},[t._v("Quantity")]),o("th",{attrs:{width:"40"}},[t._v("Price")])])}],s=(o("99af"),o("1157")),i=o.n(s),n={props:["cartInfo","isloading"],data:function(){return{coupon_code:""}},methods:{refreshCart:function(){this.$emit("refreshCart")},removeItem:function(t){this.$emit("removeItem",t)},applyCoupon:function(){var t=this,a=this,o={code:a.coupon_code},e="".concat("https://vue-course-api.hexschool.io","/api/").concat("eric840906","/coupon");this.$http.post(e,{data:o}).then((function(o){a.isLoading=!0,o.data.success?(a.refreshCart(),a.isLoading=!1,t.$bus.$emit("message:push","Coupon code successfully applied","success")):(a.isLoading=!1,t.$bus.$emit("message:push","Cant't find coupon code","danger"))}))},toPay:function(){var t=this;0===t.cartInfo.data.total?t.$bus.$emit("message:push","Cart is empty","danger"):t.$router.push("/paymentpage/paymentmake")}},mounted:function(){i()(".carttrigger").click((function(t){t.preventDefault()})),i()(".cartframe").click((function(t){t.preventDefault(),t.stopPropagation(),i()(".cartlist").addClass("show")})),i()("body").click((function(t){i()(".cartlist.show").removeClass("show")}))}},r=n,u=(o("88b7"),o("2877")),d=Object(u["a"])(r,e,c,!1,null,null,null);a["a"]=d.exports},cb7e:function(t,a,o){"use strict";var e=o("e85c"),c=o.n(e);c.a},e85c:function(t,a,o){}}]);
//# sourceMappingURL=chunk-8b1cf344.977ef3e3.js.map